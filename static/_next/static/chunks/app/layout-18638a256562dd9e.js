(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6150:function(e,t,s){Promise.resolve().then(s.bind(s,8422))},8422:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ea}});var o=s(7437);s(9264),s(865),s(2445),s(6304),s(1055),s(3180);var r=s(7373),i=s(6346),a=s(1267);s(1701);let n="LOGIN_REQUEST",l="LOGIN_SUCCESS",c="LOGIN_FAILED",d="LOGOUT_SUCCESS",u="LOGOUT_FAILURE",h="REGISTER_REQUEST",_="REGISTER_SUCCESS",m="REGISTER_FAILED",g="STORE_SUCCESS",x="STORE_FAILURE",p="AUTHENTICATED_SUCCESS",f="AUTHENTICATED_FAIL";var j=s(2173),v=s(1850);let w="SET_REGISTER_FORM",N="SET_LOGIN_FORM",S=()=>async e=>{if(v.Z.getItem("access")){let t=v.Z.getItem("access"),s=await t,o=JSON.stringify({token:s});console.log("isAuthenticated...redux",s);try{let t=await j.Z.post("http://localhost:8000/auth/jwt/verify/",o,{headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log("isAuthenticated...redux",t.data),e("token_not_valid"!==t.data.code?y():E())}catch(t){e(E())}}else e(E())},y=()=>({type:p}),E=()=>({type:f}),C=(e,t)=>async s=>{console.log("redux login",e,t),s(b());let o=JSON.stringify({email:e,password:t});try{let r=await j.Z.post("http://localhost:8000/auth/jwt/create/",o,{headers:{"Content-Type":"application/json"}});s(A(e,t,r)),v.Z.setItem("is_login",!0)}catch(e){console.log("etape error login",e.message),s(k(e.message))}},b=()=>({type:n}),A=(e,t,s)=>({type:l,setusername_login:e,setpassword_login:t,payload:s.data}),k=e=>({type:c,seterror_login:e}),L=(e,t,s,o,r)=>async i=>{console.log("redux",s,o,r),i(R());let a=JSON.stringify({first_name:e,last_name:t,email:s,password:o,re_password:r});try{let e=await j.Z.post("http://localhost:8000/auth/users/",a,{headers:{"Content-Type":"application/json"}});i(e.data.error?T(e.data.error):I(s,o,r))}catch(e){i(T(e.message))}},R=()=>({type:h}),I=(e,t,s)=>({type:_,setusername_register:e,setpassword_register:t,setre_password_register:s}),T=e=>({type:m}),O=()=>async e=>{console.log("logout..........");let t=JSON.stringify({withCredentials:!0});try{let s=await j.Z.post("http://localhost:8000/blog/logout",t,{headers:{Accept:"application/json","Content-Type":"application/json"}});s.data.success?(e(F()),v.Z.setItem("is_login",!1)):e(G(s.data.error))}catch(t){e(G(t.message))}},F=e=>({type:d}),G=e=>({type:u,error_LOGOUT:e}),U=()=>async e=>{v.Z.getItem("is_login").then(t=>{console.log("stockage  auth :",t),"true"===t?(e(Z()),console.log("stockage  true :",t)):(e(D()),console.log("stockage  false :",t))})},Z=e=>({type:g}),D=e=>({type:x}),M=()=>e=>{console.log("show login redux form .."),e(J())},J=()=>({type:N}),P=()=>e=>{console.log("show register form .."),e(H())},H=()=>({type:w}),$={show_login_form:!1,show_register_form:!1,username_login:"",password_login:"",is_login:!1,error_login:"",show_loading_auth:!1,username_register:"",password_register:"",re_password_register:"",show_navbar:!1,current_image:0,access:v.Z.getItem("access"),refresh:v.Z.getItem("refresh"),isAuthenticated:null};console.log("rootReducer");let z=(0,r.UY)({authreducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{...e,isAuthenticated:!0};case f:return{...e,isAuthenticated:!1};case n:return{...e,show_loading_auth:!0,error_login:""};case l:return v.Z.setItem("access",t.payload.access),v.Z.setItem("refresh",t.payload.refresh),{...e,username_login:t.setusername_login,password_login:t.setpassword_login,show_loading_auth:!1,is_login:!0,show_login_form:!1,error_login:""};case c:return{...e,show_loading_auth:!1,error_login:t.seterror_login};case h:return{...e};case _:return{...e,username_register:t.setusername_register,password_register:t.setpassword_register,re_password_register:t.setre_password_register};case m:return{...e,username_register:"failed",password_register:t.setpassword_register,re_password_register:t.setre_password_register};case d:return{...e,is_login:!1};case u:return{...e};case g:return{...e,is_login:!0,show_navbar:!0};case x:return{is_login:!1,show_navbar:!0,...e};case N:return{show_login_form:!e.show_login_form,show_register_form:!1};case w:return{show_register_form:!e.show_register_form,show_login_form:!1};default:return{...e}}}}),B=(0,s(5456).default)(),K=(0,a.OJ)({key:"root",storage:B,blacklist:["error_login"]},z),Q=(0,r.MT)(K,(0,r.md)(i.Z));var V=s(6555);function X(e){let{children:t}=e;return(0,o.jsx)(V.zt,{store:Q,children:t})}var q=s(2265),Y=s(1396),W=s.n(Y),ee=s(6691),et=s.n(ee),es=(0,V.$j)(e=>({username:e.authreducer.username_login,password:e.authreducer.password_login,show_loading_auth:e.authreducer.show_loading_auth,error_login:e.authreducer.error_login}),e=>({Login_redux:(t,s)=>e(C(t,s)),Show_Login_form_redux:()=>e(M()),Show_register_form_redux:()=>e(P())}))(e=>{let[t,s]=(0,q.useState)(""),[r,i]=(0,q.useState)("");return(0,q.useEffect)(()=>{},[e.error_login]),(0,q.useEffect)(()=>{},[e.show_loading_auth]),(0,o.jsx)("form",{onSubmit:s=>{s.preventDefault(),e.Login_redux(t,r),console.log("Nom d'utilisateur:",t),console.log("Mot de passe:",r)},className:"login-form",children:(0,o.jsx)("div",{className:"login-sous-form",children:(0,o.jsxs)("div",{className:"sous-form",children:[e.show_loading_auth&&(0,o.jsx)("div",{className:"login-laoding",children:(0,o.jsx)("div",{className:"login-laoding-div",children:(0,o.jsx)("div",{className:"login-laoding-cyrcle"})})}),(0,o.jsx)("div",{className:"exit",children:(0,o.jsx)("div",{onClick:()=>e.Show_Login_form_redux(),className:"exit",children:(0,o.jsx)("h1",{children:"x"})})}),(0,o.jsx)("div",{className:"form-logo",children:(0,o.jsx)(et(),{src:"/logo.png",alt:"logo_m",width:130,height:50})}),(0,o.jsx)("div",{className:"form-input",children:(0,o.jsx)("input",{type:"text",id:"username",value:t,placeholder:"Nom d'utilisateur",onChange:e=>s(e.target.value)})}),(0,o.jsx)("div",{className:"form-input",children:(0,o.jsx)("input",{type:"password",id:"password",value:r,placeholder:"Password",onChange:e=>i(e.target.value)})}),!e.show_loading_auth&&(0,o.jsxs)("p",{className:"login-error",children:[" ",e.error_login]}),(0,o.jsx)("button",{type:"submit",children:"Se connecter"}),(0,o.jsx)("div",{className:"form-compte",children:(0,o.jsxs)("p",{children:["Vous n'avez pas de compte ?"," ",(0,o.jsx)("a",{href:"#",onClick:()=>e.Show_register_form_redux(),children:"Cr\xe9er un compte"})]})})]})})})}),eo=(0,V.$j)(e=>({is_login:e.authreducer.is_login,show_navbar:e.authreducer.show_navbar,show_login_form:e.authreducer.show_login_form,show_register_form:e.authreducer.show_register_form,isAuthenticated:e.authreducer.isAuthenticated}),e=>({Logout_redux:()=>e(O()),Login_store:()=>e(U()),Show_Login_form_redux:()=>e(M()),checkAuthenticated:()=>e(S())}))(e=>{let[t,s]=(0,q.useState)(!1),[r,i]=(0,q.useState)(!1),[a,n]=(0,q.useState)("layout-nav"),[l,c]=(0,q.useState)("layout-nav"),[d,u]=(0,q.useState)(!1),[h,_]=(0,q.useState)(!1),[m,g]=(0,q.useState)(!0),[x,p]=(0,q.useState)(!1),[f,j]=(0,q.useState)(2e3),[v,w]=(0,q.useState)(!0);(0,q.useEffect)(()=>{w(!0)},[]),(0,q.useEffect)(()=>{e.checkAuthenticated()},[]),(0,q.useEffect)(()=>{console.log("isAuthenticated...",e.isAuthenticated)},[e.isAuthenticated]),(0,q.useEffect)(()=>{},[e.show_login_form]),(0,q.useEffect)(()=>{},[e.show_register_form]);let N=()=>{console.log("logout..."),e.Logout_redux()},S=()=>{i(!r),s(!t),n("layout-nav nav_closed"),c("layout-nav nav_opened")},y=e=>{s(!t)},{title:E,content:C,acceptButton:b,continueButton:A}={title:"Ce site utilise des cookies.",content:"Ce site utilise des cookies. En continuant \xe0 utiliser ce site, vous consentez \xe0 l'utilisation des cookies.",acceptButton:"Accepter les cookies",continueButton:"Continuer sans cookies"};return(0,o.jsxs)("div",{className:"layout-all",children:[v&&(0,o.jsx)("nav",{className:t?l:a,children:(t=>{let s=()=>{console.log("show form "),e.Show_Login_form_redux()};return(0,o.jsx)("ul",{className:"nav-ul",children:t[0].FR.map(e=>"Logout"===e.title?(0,o.jsxs)("div",{className:"div-btn",children:[(0,o.jsx)("div",{className:"div-btn-line"},e.id),(0,o.jsx)("button",{onClick:()=>N(),children:"Logout"})]},e.id):"Login"===e.title?(0,o.jsxs)("div",{className:"div-btn",children:[(0,o.jsx)("div",{className:"div-btn-line"},e.id),(0,o.jsx)("button",{onClick:()=>s(),children:"S'identifier"})]},e.id):(0,o.jsx)("li",{className:"item-div",children:(0,o.jsx)(W(),{className:"nav-link",href:e.to,onClick:()=>y(e.to),children:e.title})},e.id))})})(e.isAuthenticated?[{FR:[{id:1,title:"Acceuil",to:"/"},{id:2,title:"Formations",to:"/formation"},{id:3,title:"Service",to:"/service"},{id:4,title:"Contact",to:"/contact"},{id:5,title:"Logout",to:"/logout"}],ENG:[{id:1,title:"Homee",to:"/"},{id:2,title:"Act with us",to:"/agir"},{id:3,title:"Our actions",to:"/actions"},{id:4,title:"Contact us",to:"/contact"},{id:5,title:"Login",to:"/login"}]}]:[{FR:[{id:1,title:"Acceuil",to:"/"},{id:2,title:"Formations",to:"/formation"},{id:3,title:"Service",to:"/chat"},{id:4,title:"Contact",to:"/contact"},{id:5,title:"Login",to:"/login"}],ENG:[{id:1,title:"Homee",to:"/"},{id:2,title:"Act with us",to:"/agir"},{id:3,title:"Our actions",to:"/actions"},{id:4,title:"Contact us",to:"/contact"},{id:5,title:"Logout",to:"/login"}]}])}),(0,o.jsx)("div",{className:"nav-logo"}),(0,o.jsx)("div",{className:"layout-nav-mobile",children:(0,o.jsxs)("div",{className:"menu-icon ".concat(r?"open":""),onClick:()=>S(),children:[(0,o.jsx)("div",{className:"bar line1"}),(0,o.jsx)("div",{className:"bar line2"}),(0,o.jsx)("div",{className:"bar line3"})]})})]})}),er=(0,V.$j)(e=>({email:e.authreducer.email_register,password:e.authreducer.password_register,re_password:e.authreducer.re_password_register}),e=>({Register_redux:(t,s,o,r,i)=>e(L(t,s,o,r,i)),Show_register_form_redux:()=>e(P()),Show_Login_form_redux:()=>e(M())}))(function(e){let[t,s]=(0,q.useState)({first_name:"",last_name:"",email:"",password:"",re_password:""}),{first_name:r,last_name:i,email:a,password:n,re_password:l}=t,c=e=>{s({...t,[e.target.name]:e.target.value})},d=async t=>{t.preventDefault();try{await e.Register_redux(r,i,a,n,l)}catch(e){console.error("Error registering user:",e.message,a)}};return(0,o.jsx)("form",{onSubmit:e=>d(e),className:"login-form",children:(0,o.jsx)("div",{className:"login-sous-form",children:(0,o.jsxs)("div",{className:"sous-form",children:[(0,o.jsx)("div",{className:"exit",children:(0,o.jsx)("div",{onClick:()=>e.Show_register_form_redux(),className:"exit-btn",children:(0,o.jsx)("h1",{children:"x"})})}),(0,o.jsx)("div",{className:"form-logo"}),(0,o.jsx)("div",{className:"form-input",children:(0,o.jsx)("input",{name:"first_name",value:r,type:"text",placeholder:"First Name",onChange:e=>c(e)})}),(0,o.jsx)("div",{className:"form-input",children:(0,o.jsx)("input",{name:"last_name",value:i,type:"text",placeholder:"Last Name",onChange:e=>c(e)})}),(0,o.jsx)("div",{className:"form-input",children:(0,o.jsx)("input",{name:"email",value:a,type:"email",placeholder:"Email",onChange:e=>c(e)})}),(0,o.jsx)("div",{className:"form-input",children:(0,o.jsx)("input",{name:"password",value:n,type:"password",placeholder:"Password",onChange:e=>c(e)})}),(0,o.jsx)("div",{className:"form-input",children:(0,o.jsx)("input",{name:"re_password",value:l,type:"password",placeholder:"Confirm Password",onChange:e=>c(e)})}),(0,o.jsx)("button",{type:"submit",children:"Inscrire"}),(0,o.jsx)("div",{className:"form-compte",children:(0,o.jsxs)("p",{children:["J'ai un compte"," ",(0,o.jsx)("a",{href:"#",onClick:()=>e.Show_Login_form_redux(),children:"connect\xe9"})]})})]})})})}),ei=(0,V.$j)(e=>({show_login_form:e.authreducer.show_login_form,show_register_form:e.authreducer.show_register_form}),e=>({}))(e=>{let t={Contact:{FR:"Coordonn\xe9es de contact",ENG:"Contact Information",DE:"Kontaktinformationen"},Menu:{FR:"Menu",ENG:"Menu",DE:"Men\xfc"},apropos:{FR:"\xc0 propos",ENG:"About",DE:"\xdcber uns"}},s=e=>{};return(0,o.jsxs)("footer",{className:"footer",children:[e.show_register_form&&(0,o.jsx)(er,{}),e.show_login_form&&(0,o.jsx)(es,{}),(0,o.jsxs)("div",{className:"footer-top",children:[(0,o.jsxs)("div",{className:"footer-top-1",children:[(0,o.jsx)("div",{className:"footer-description",children:(0,o.jsxs)("div",{className:"footer-aprops",children:[(0,o.jsx)("h1",{children:t.apropos.FR}),(0,o.jsx)("p",{children:"Soladirit\xe9 est une association \xe0 but non lucratif qui travaille pour am\xe9liorer la vie des enfants en difficult\xe9 en leur fournissant de l'aide alimentaire, l'acc\xe8s \xe0 l'eau potable, l'\xe9ducation et la sant\xe9,en collaboration avec des partenaires locaux."})]})}),(0,o.jsxs)("nav",{className:"footer-menu",children:[(0,o.jsx)("h1",{children:t.Menu.FR}),(0,o.jsx)("ul",{children:[{FR:[{id:1,title:"Accueil",to:"/"},{id:2,title:"Agir avec nous",to:"/agir"},{id:3,title:"Nos actions",to:"/actions"},{id:4,title:"Nous contacter",to:"/contact"}],ENG:[{id:1,title:"Home",to:"/"},{id:2,title:"Act with us",to:"/agir"},{id:3,title:"Our actions",to:"/actions"},{id:4,title:"Contact us",to:"/contact"}],DE:[{id:1,title:"Startseite",to:"/"},{id:2,title:"Mit uns handeln",to:"/agir"},{id:3,title:"Unsere Aktionen",to:"/actions"},{id:4,title:"Kontaktiere uns",to:"/contact"}]}][0].FR.map(e=>(0,o.jsx)("li",{children:(0,o.jsx)(W(),{className:"footer-nav-link",href:e.to,onClick:()=>s(e.to),children:e.title})},e.to))})]})]}),(0,o.jsx)("div",{className:"footer-top-2",children:(0,o.jsxs)("div",{className:"footer-coordone",children:[(0,o.jsx)("h1",{children:t.Contact.FR}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:" xxxxx 5, xxxxx Boniswil (SUISSE)"}),(0,o.jsx)("li",{children:" +xx xx xxx xx xx "}),(0,o.jsx)("li",{children:"+xx xx xxx xx xx "}),(0,o.jsx)("li",{children:"solidarite@domaine.com"})]})]})})]}),(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{className:"footer-bottom",children:[(0,o.jsxs)("div",{className:"footer-logo-title",children:[(0,o.jsx)("div",{className:"footer-logo"}),(0,o.jsx)("div",{className:"footer-title",children:(0,o.jsx)("h2",{children:"SOLIDARIT\xe9"})})]}),(0,o.jsx)("h4",{children:"Personne de r\xe9f\xe9rence : M. Xxxxx Xxxxxx, Pr\xe9sident"})]})]})});function ea(e){let{children:t}=e;return(0,o.jsxs)("html",{lang:"en",children:[(0,o.jsxs)("head",{children:[(0,o.jsx)("title",{children:"Votre Titre"}),(0,o.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"})]}),(0,o.jsx)("body",{children:(0,o.jsx)(X,{children:(0,o.jsxs)("div",{className:"layout-all",children:[(0,o.jsx)(eo,{}),(0,o.jsx)("div",{className:"layout-header",children:(0,o.jsx)("div",{className:"layout-container",children:t})}),(0,o.jsx)(ei,{})]})})})]})}},2445:function(){},9264:function(){},865:function(){},6304:function(){},1055:function(){},3180:function(){}},function(e){e.O(0,[945,796,971,938,744],function(){return e(e.s=6150)}),_N_E=e.O()}]);